[{"path":"index.html","id":"about","chapter":"About","heading":"About","text":"","code":""},{"path":"環境準備.html","id":"環境準備","chapter":"環境準備","heading":"環境準備","text":"當初是用 renv 專案，再加上 renv::use_python() 來開啟 python 的 virtual environment。那開完後，他的虛擬環境是建立在這個路徑： renv/python/virtualenvs/renv-python-3.8.0。所以虛擬資料夾名稱叫 renv-python-3.8.0。這就像自己用 VSCode 開虛擬環境時，會寫 python -m venv my_env，那時的 my_env 就像現在的 renv-python-3.8.0。如果用 RStudio 開啟此專案，那 python 的 virtual environment 會自動被 activate，所以就正常使用 python 是沒問題但如果用 VSCode 開啟此專案，就需要手動做一些事：\n打開 terminal，先 activate 虛擬環境： source renv/python/virtualenvs/renv-python-3.8.0/bin/activate\n第一次做的時候，為了讓 jupyter notebook 也可以吃到虛擬環境，所以要加做：\npip install ipykernel\nipython kernel install --name=renv-python-3.8.0\n\n之後就正常打開 jupyter notebook，然後 ctrl+shift+p，打 python: select interpreter，然後選到虛擬環境的 python 位置： 此專案根目錄/renv/virtualenvs/renv-python-3.8.0/bin/python。這樣，這個 jupyter notebook 就會用虛擬環境的 python 和 package 來執行\n如果要確認現在的 jupyter notebook 有沒有吃到虛擬環境，可以打 ! python (驚嘆號是讓 code chunk 可以執行 bash 指令)，那路徑應該要是剛剛寫的： 此專案根目錄/renv/virtualenvs/renv-python-3.8.0/bin/python\n打開 terminal，先 activate 虛擬環境： source renv/python/virtualenvs/renv-python-3.8.0/bin/activate第一次做的時候，為了讓 jupyter notebook 也可以吃到虛擬環境，所以要加做：\npip install ipykernel\nipython kernel install --name=renv-python-3.8.0\npip install ipykernelipython kernel install --name=renv-python-3.8.0之後就正常打開 jupyter notebook，然後 ctrl+shift+p，打 python: select interpreter，然後選到虛擬環境的 python 位置： 此專案根目錄/renv/virtualenvs/renv-python-3.8.0/bin/python。這樣，這個 jupyter notebook 就會用虛擬環境的 python 和 package 來執行如果要確認現在的 jupyter notebook 有沒有吃到虛擬環境，可以打 ! python (驚嘆號是讓 code chunk 可以執行 bash 指令)，那路徑應該要是剛剛寫的： 此專案根目錄/renv/virtualenvs/renv-python-3.8.0/bin/python","code":""},{"path":"hello-bookdown.html","id":"hello-bookdown","chapter":"1 Hello bookdown","heading":"1 Hello bookdown","text":"chapters start first-level heading followed chapter title, like line . one first-level heading (#) per .Rmd file.","code":""},{"path":"hello-bookdown.html","id":"a-section","chapter":"1 Hello bookdown","heading":"1.1 A section","text":"chapter sections start second-level (##) higher heading followed section title, like sections . can many want within chapter.","code":""},{"path":"hello-bookdown.html","id":"an-unnumbered-section","chapter":"1 Hello bookdown","heading":"An unnumbered section","text":"Chapters sections numbered default. un-number heading, add {.unnumbered} shorter {-} end heading, like section.","code":""},{"path":"cross.html","id":"cross","chapter":"2 Cross-references","heading":"2 Cross-references","text":"Cross-references make easier readers find link elements book.","code":""},{"path":"cross.html","id":"chapters-and-sub-chapters","chapter":"2 Cross-references","heading":"2.1 Chapters and sub-chapters","text":"two steps cross-reference heading:Label heading: # Hello world {#nice-label}.\nLeave label like automated heading generated based heading title: example, # Hello world = # Hello world {#hello-world}.\nlabel un-numbered heading, use: # Hello world {-#nice-label} {# Hello world .unnumbered}.\nLeave label like automated heading generated based heading title: example, # Hello world = # Hello world {#hello-world}.label un-numbered heading, use: # Hello world {-#nice-label} {# Hello world .unnumbered}.Next, reference labeled heading anywhere text using \\@ref(nice-label); example, please see Chapter 2.\nprefer text link instead numbered reference use: text want can go .\nprefer text link instead numbered reference use: text want can go .","code":""},{"path":"cross.html","id":"captioned-figures-and-tables","chapter":"2 Cross-references","heading":"2.2 Captioned figures and tables","text":"Figures tables captions can also cross-referenced elsewhere book using \\@ref(fig:chunk-label) \\@ref(tab:chunk-label), respectively.See Figure 2.1.\nFigure 2.1: nice figure!\nDon’t miss Table 2.1.Table 2.1: nice table!","code":"\npar(mar = c(4, 4, .1, .1))\nplot(pressure, type = 'b', pch = 19)\nknitr::kable(\n  head(pressure, 10), caption = 'Here is a nice table!',\n  booktabs = TRUE\n)"},{"path":"parts.html","id":"parts","chapter":"3 Parts","heading":"3 Parts","text":"can add parts organize one book chapters together. Parts can inserted top .Rmd file, first-level chapter heading file.Add numbered part: # (PART) Act one {-} (followed # chapter)Add unnumbered part: # (PART\\*) Act one {-} (followed # chapter)Add appendix special kind un-numbered part: # (APPENDIX) stuff {-} (followed # chapter). Chapters appendix prepended letters instead numbers.","code":""},{"path":"footnotes-and-citations.html","id":"footnotes-and-citations","chapter":"4 Footnotes and citations","heading":"4 Footnotes and citations","text":"","code":""},{"path":"footnotes-and-citations.html","id":"footnotes","chapter":"4 Footnotes and citations","heading":"4.1 Footnotes","text":"Footnotes put inside square brackets caret ^[]. Like one.1","code":""},{"path":"footnotes-and-citations.html","id":"citations","chapter":"4 Footnotes and citations","heading":"4.2 Citations","text":"Reference items bibliography file(s) using @key.example, using bookdown package2 (check last code chunk index.Rmd see citation key added) sample book, built top R Markdown knitr3 (citation added manually external file book.bib).\nNote .bib files need listed index.Rmd YAML bibliography key.RStudio Visual Markdown Editor can also make easier insert citations: https://rstudio.github.io/visual-markdown-editing/#/citations","code":""},{"path":"blocks.html","id":"blocks","chapter":"5 Blocks","heading":"5 Blocks","text":"","code":""},{"path":"blocks.html","id":"equations","chapter":"5 Blocks","heading":"5.1 Equations","text":"equation.\\[\\begin{equation} \n  f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k}\n  \\tag{5.1}\n\\end{equation}\\]may refer using \\@ref(eq:binom), like see Equation (5.1).","code":""},{"path":"blocks.html","id":"theorems-and-proofs","chapter":"5 Blocks","heading":"5.2 Theorems and proofs","text":"Labeled theorems can referenced text using \\@ref(thm:tri), example, check smart theorem 5.1.Theorem 5.1  right triangle, \\(c\\) denotes length hypotenuse\n\\(\\) \\(b\\) denote lengths two sides, \n\\[^2 + b^2 = c^2\\]Read https://bookdown.org/yihui/bookdown/markdown-extensions--bookdown.html.","code":""},{"path":"blocks.html","id":"callout-blocks","chapter":"5 Blocks","heading":"5.3 Callout blocks","text":"R Markdown Cookbook provides help use custom blocks design callouts: https://bookdown.org/yihui/rmarkdown-cookbook/custom-blocks.html","code":""},{"path":"sharing-your-book.html","id":"sharing-your-book","chapter":"6 Sharing your book","heading":"6 Sharing your book","text":"","code":""},{"path":"sharing-your-book.html","id":"publishing","chapter":"6 Sharing your book","heading":"6.1 Publishing","text":"HTML books can published online, see: https://bookdown.org/yihui/bookdown/publishing.html","code":""},{"path":"sharing-your-book.html","id":"pages","chapter":"6 Sharing your book","heading":"6.2 404 pages","text":"default, users directed 404 page try access webpage found. ’d like customize 404 page instead using default, may add either _404.Rmd _404.md file project root use code /Markdown syntax.","code":""},{"path":"sharing-your-book.html","id":"metadata-for-sharing","chapter":"6 Sharing your book","heading":"6.3 Metadata for sharing","text":"Bookdown HTML books provide HTML metadata social sharing platforms like Twitter, Facebook, LinkedIn, using information provide index.Rmd YAML. setup, set url book path cover-image file. book’s title description also used.gitbook uses social sharing data across chapters book- links shared look .Specify book’s source repository GitHub using edit key configuration options _output.yml file, allows users suggest edit linking chapter’s source file.Read features output format :https://pkgs.rstudio.com/bookdown/reference/gitbook.htmlOr use:","code":"\n?bookdown::gitbook"},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"ch2-end-to-end-ml-project","chapter":"7 CH2: End to end ml project","heading":"7 CH2: End to end ml project","text":"","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"problem-formulation-the-big-picture","chapter":"7 CH2: End to end ml project","heading":"7.1 Problem formulation & the big picture","text":"這邊要問自己這幾個問題：\n商業目標是什麼(使用商業詞彙來定義目標)？ 別人會如何使用你的解決方案？\n目前的解決方案是什麼 ()？\n如何定義成 ml 問題？ (監督/非監督; 線上/離線？)\n如何評估 performance？ performance measure 有符合商業目標嗎？\n實現商業目標的最低績效是什麼？ (performance measure 的過關標準)\n有沒有類似的專案可以 benchmark？\n有 domain expert 可以協助嗎？\n列出你(或別人)到目前為止列過的假設，可以的話，驗證這些假設\n商業目標是什麼(使用商業詞彙來定義目標)？ 別人會如何使用你的解決方案？目前的解決方案是什麼 ()？如何定義成 ml 問題？ (監督/非監督; 線上/離線？)如何評估 performance？ performance measure 有符合商業目標嗎？實現商業目標的最低績效是什麼？ (performance measure 的過關標準)有沒有類似的專案可以 benchmark？有 domain expert 可以協助嗎？列出你(或別人)到目前為止列過的假設，可以的話，驗證這些假設那這次要練習的，是想像自己是某房地產公司的資料分析師，要做一個房價預估模型。想要預測加州某個給定區域的該區房價中位數。舉例來說，想要預測台北市松山區的房價中位數好了，我們就可以用該區的一堆 feature (e.g. 該區人口數、…)，來預測該區的房價中位數。那在這個階段，就要回應剛剛的那堆問題：","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"取得資料盡量自動化","chapter":"7 CH2: End to end ml project","heading":"7.2 取得資料(盡量自動化)","text":"在獲取資料的過程中，盡量 自動化，這樣才可以不斷取得最新的資料這邊要問自己幾個問題：\n需要什麼資料？需要多少資料？\n如何取得這些資料(db?)\n將資料換成可以輕鬆管理的格式(但raw data也會留一份不動他)\n取出 testing set，放一旁，不要偷看\n需要什麼資料？需要多少資料？如何取得這些資料(db?)將資料換成可以輕鬆管理的格式(但raw data也會留一份不動他)取出 testing set，放一旁，不要偷看","code":"import os\nimport numpy as np\nimport pandas as pd\nimport sklearn\nimport matplotlib as mpl\nimport matplotlib.pyplot as plthousing = pd.read_csv(\"datasets/housing/housing.csv\")\nhousing.head()\n#>    longitude  latitude  ...  median_house_value  ocean_proximity\n#> 0    -122.23     37.88  ...            452600.0         NEAR BAY\n#> 1    -122.22     37.86  ...            358500.0         NEAR BAY\n#> 2    -122.24     37.85  ...            352100.0         NEAR BAY\n#> 3    -122.25     37.85  ...            341300.0         NEAR BAY\n#> 4    -122.25     37.85  ...            342200.0         NEAR BAY\n#> \n#> [5 rows x 10 columns]housing.info()\n#> <class 'pandas.core.frame.DataFrame'>\n#> RangeIndex: 20640 entries, 0 to 20639\n#> Data columns (total 10 columns):\n#>  #   Column              Non-Null Count  Dtype  \n#> ---  ------              --------------  -----  \n#>  0   longitude           20640 non-null  float64\n#>  1   latitude            20640 non-null  float64\n#>  2   housing_median_age  20640 non-null  float64\n#>  3   total_rooms         20640 non-null  float64\n#>  4   total_bedrooms      20433 non-null  float64\n#>  5   population          20640 non-null  float64\n#>  6   households          20640 non-null  float64\n#>  7   median_income       20640 non-null  float64\n#>  8   median_house_value  20640 non-null  float64\n#>  9   ocean_proximity     20640 non-null  object \n#> dtypes: float64(9), object(1)\n#> memory usage: 1.6+ MBhousing.describe()\n#>           longitude      latitude  ...  median_income  median_house_value\n#> count  20640.000000  20640.000000  ...   20640.000000        20640.000000\n#> mean    -119.569704     35.631861  ...       3.870671       206855.816909\n#> std        2.003532      2.135952  ...       1.899822       115395.615874\n#> min     -124.350000     32.540000  ...       0.499900        14999.000000\n#> 25%     -121.800000     33.930000  ...       2.563400       119600.000000\n#> 50%     -118.490000     34.260000  ...       3.534800       179700.000000\n#> 75%     -118.010000     37.710000  ...       4.743250       264725.000000\n#> max     -114.310000     41.950000  ...      15.000100       500001.000000\n#> \n#> [8 rows x 9 columns]housing['ocean_proximity'].value_counts()\n#> <1H OCEAN     9136\n#> INLAND        6551\n#> NEAR OCEAN    2658\n#> NEAR BAY      2290\n#> ISLAND           5\n#> Name: ocean_proximity, dtype: int64housing.hist(bins = 50)\n#> array([[<AxesSubplot:title={'center':'longitude'}>,\n#>         <AxesSubplot:title={'center':'latitude'}>,\n#>         <AxesSubplot:title={'center':'housing_median_age'}>],\n#>        [<AxesSubplot:title={'center':'total_rooms'}>,\n#>         <AxesSubplot:title={'center':'total_bedrooms'}>,\n#>         <AxesSubplot:title={'center':'population'}>],\n#>        [<AxesSubplot:title={'center':'households'}>,\n#>         <AxesSubplot:title={'center':'median_income'}>,\n#>         <AxesSubplot:title={'center':'median_house_value'}>]],\n#>       dtype=object)\nplt.show()"},{"path":"ch2-end-to-end-ml-project.html","id":"eda","chapter":"7 CH2: End to end ml project","heading":"7.3 EDA","text":"在 EDA 過程中，試著向 domain expert 請教這邊要做的事包括：\n建立探索用的資料副本\n用 jupyter notebook RMarkdown，紀錄探索過程\n研究各個變數的：\n意義\n類型(離散、連續、時間、文字…)\ndistribution & outlier detection\nmissing 百分比\n雜訊程度與雜訊類型(隨機？離訊值？進位誤差？)\n對任務的實用性？(一看就知道是垃圾變數？還是很有機會的變數？)\n\n將資料視覺化\n研究變數之間的關聯性\n找出可能要採取的 transformation\n想想還有哪些 feature 還可以再搜集\n建立探索用的資料副本用 jupyter notebook RMarkdown，紀錄探索過程研究各個變數的：\n意義\n類型(離散、連續、時間、文字…)\ndistribution & outlier detection\nmissing 百分比\n雜訊程度與雜訊類型(隨機？離訊值？進位誤差？)\n對任務的實用性？(一看就知道是垃圾變數？還是很有機會的變數？)\n意義類型(離散、連續、時間、文字…)distribution & outlier detectionmissing 百分比雜訊程度與雜訊類型(隨機？離訊值？進位誤差？)對任務的實用性？(一看就知道是垃圾變數？還是很有機會的變數？)將資料視覺化研究變數之間的關聯性找出可能要採取的 transformation想想還有哪些 feature 還可以再搜集在這個階段，就是不斷探索並收斂出後續要做的事，下一步就是正式進入 preprocessing 階段","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"資料前處理","chapter":"7 CH2: End to end ml project","heading":"7.4 資料前處理","text":"在這個階段，要做的事包括：\n資料清理\n修復或移除 outlier\n處理 missing data (補0, 補mean, …, 移除整列, 移除值)\n\nfeature screening\n移除 zero variance 變數\n移除 和 y 關聯性超低的變數\n\nfeature engineering\n類別型變數： one-hot encoding, 零碎類別整併, …\n時間型變數： 轉成一堆時間型變數\n連續型變數： normalize/scaling, transformation(log, square, sqrt, …), 離散化…\n組合多個變數： 離如變數間的相乘…\n\n資料清理\n修復或移除 outlier\n處理 missing data (補0, 補mean, …, 移除整列, 移除值)\n修復或移除 outlier處理 missing data (補0, 補mean, …, 移除整列, 移除值)feature screening\n移除 zero variance 變數\n移除 和 y 關聯性超低的變數\n移除 zero variance 變數移除 和 y 關聯性超低的變數feature engineering\n類別型變數： one-hot encoding, 零碎類別整併, …\n時間型變數： 轉成一堆時間型變數\n連續型變數： normalize/scaling, transformation(log, square, sqrt, …), 離散化…\n組合多個變數： 離如變數間的相乘…\n類別型變數： one-hot encoding, 零碎類別整併, …時間型變數： 轉成一堆時間型變數連續型變數： normalize/scaling, transformation(log, square, sqrt, …), 離散化…組合多個變數： 離如變數間的相乘…要注意的是：\n使用資料複本 (讓原始資料組原封不動)\n將所有要做的 data transformation，都寫成 function，因為：\n方便之後對測試資料、新的 training data 做轉換\n將前處理也視為 hyper-parameter ，來 tune 他\n\n使用資料複本 (讓原始資料組原封不動)將所有要做的 data transformation，都寫成 function，因為：\n方便之後對測試資料、新的 training data 做轉換\n將前處理也視為 hyper-parameter ，來 tune 他\n方便之後對測試資料、新的 training data 做轉換將前處理也視為 hyper-parameter ，來 tune 他","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"model-screening","chapter":"7 CH2: End to end ml project","heading":"7.5 model screening","text":"在這個階段，要做的事情包括：\n用 default 參數先多訓練幾種 model、並用 k-fold CV 比較 performance\n看一下各種 model 找出來的重要變數\n分析誤差\n收斂到 3 ~ 5 個最有希望的 model\n用 default 參數先多訓練幾種 model、並用 k-fold CV 比較 performance看一下各種 model 找出來的重要變數分析誤差收斂到 3 ~ 5 個最有希望的 model","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"fine-tune-model","chapter":"7 CH2: End to end ml project","heading":"7.6 fine-tune model","text":"hyper-parameter tunning\n用 cv 來調參數(前處理也算，例如用平均數 中位數來補遺漏值，哪個效果比較好？)\n優先選擇隨機搜尋(而不是網格搜尋)\n用 cv 來調參數(前處理也算，例如用平均數 中位數來補遺漏值，哪個效果比較好？)優先選擇隨機搜尋(而不是網格搜尋)stacking","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"presentation","chapter":"7 CH2: End to end ml project","heading":"7.7 presentation","text":"這個步驟，就是要和 user/主管 展示做出來的結果：\nbig picture (大架構)\n解釋為何你的 solution 可以實現商業目標\n用漂亮的 visualization 和 好記的 slogan 來加深聽眾印象\n整個專案進行中，哪些嘗試有效，哪些沒效 (就是些有趣的例子)\n列出假設與限制\nbig picture (大架構)解釋為何你的 solution 可以實現商業目標用漂亮的 visualization 和 好記的 slogan 來加深聽眾印象整個專案進行中，哪些嘗試有效，哪些沒效 (就是些有趣的例子)列出假設與限制","code":""},{"path":"ch2-end-to-end-ml-project.html","id":"deploy","chapter":"7 CH2: End to end ml project","heading":"7.8 Deploy","text":"將這個 solution 推到準生產狀態 (資料流開始進來、寫 unit test 等)寫 monitoring 的 程式，定期檢查系統的即時性能，並在性能下降時發出警報\n注意不知不覺的退化：模型往晃為隨著資料的演變而腐敗\n有時需要透過人類管道來評估效果\n也要監控資料輸入的品質(對線上學習而言特別重要)\n注意不知不覺的退化：模型往晃為隨著資料的演變而腐敗有時需要透過人類管道來評估效果也要監控資料輸入的品質(對線上學習而言特別重要)定期使用新資料來重新訓練模型 (盡量自動化)","code":""}]
